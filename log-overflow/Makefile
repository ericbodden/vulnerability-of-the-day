# Copyright 2012 Andrew Meneely. 
# Licensed under the Educational Community License, Version 2.0 (the "License"); 
# you may not use this file except in compliance with the License. 
# You may obtain a copy of the License at http://www.osedu.org/licenses/ECL-2.0. 
# Unless required by applicable law or agreed to in writing, 
# software distributed under the License is distributed on an "AS IS" BASIS, 
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. 
# See the License for the specific language governing permissions 
# and limitations under the License.

# Here, we won't actually run this exploit, since we don't want to crash 
# this computer.
#
# The idea is to fill up the hard drive with a log file because it's 
# unrestricted. If you use System.out.println, this often gets redirected
# to log files, so it's still an issue.
exploit: compile
	java -cp "log4j-1.2.16.jar:." LoggedALot log4j.properties

safer: compile
	java -cp "log4j-1.2.16.jar:." LoggedALot log4j-better.properties

compile:
	javac -cp "log4j-1.2.16.jar:." LoggedALot.java

diff:
	diff -u log4j.properties log4j-better.properties
